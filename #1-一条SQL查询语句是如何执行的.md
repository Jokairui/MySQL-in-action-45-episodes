### 连接器 
与客户端建立连接，获取权限，维持和管理连接   
wait_timeout参数控制空闲连接的超时时间，默认是8小时   
MySQL查询过程中使用的临时内存是存放在连接对象中的，所以有的长连接使用久了之后，内存使用会特别大，甚至导致MySQL异常重启。    
解决办法有两个：
1. 代码中对大的查询之后主动使用新的连接
2. MySQL5.7之后，执行一个大的查询之后使用mysql_reset_connection来重置连接，这个不会重新建立连接，是相当于‘清空缓存’
### 查询缓存
大多数情况下不要使用，因为容易失效重建和存储都非常占用资源，除非是对于静态表，长时间不修改的，适合开启查询缓存    
设置query_cache_type为DEMAND，默认不使用查询缓存，需要使用缓存可以通过显式命令SQL_CACHE使用    
MySQL8.0 之后就不再有查询缓存的功能了
### 分析器
负责词法分析和语法分析
### 优化器
索引选择和表连接where条件选择之类
### 执行器
依次扫描相应行，符合条件的存入结果集
### MySQL架构
![MySQL架构](https://static001.geekbang.org/resource/image/0d/d9/0d2070e8f84c4801adbfa03bda1f98d9.png)